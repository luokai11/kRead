{"version":3,"sources":["webpack:///node_modules/v-bar/src/components/v-bar.vue","webpack:///./node_modules/v-bar/src/components/v-bar.vue?ad54","webpack:///./node_modules/v-bar/src/components/v-bar.vue","webpack:///src/components/chapter.vue","webpack:///./src/components/chapter.vue?34ba","webpack:///./src/components/chapter.vue","webpack:///./node_modules/detect-resize/lib/index.js"],"names":["v_bar","resize","onDrag","stopDrag","getSizes","positionWrapper","sizeWrapper","sizeBar","sizeContainer","regulatorSize","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetContainer","clientDirection","size","offsetLeft","offset","preventDefault","stopPropagation","e","elementOffset","offsetTop","axis","wrapperRef","container","verticalBar","verticalInternalBar","horizontalBar","horizontalInternalBar","containerRef","horizontalInternalBarRef","horizontalBarRef","this","wrapperObj","verticalInternalBarRef","verticalBarRef","components_v_bar","render","_vm","_h","$createElement","_c","_self","class","propWrapperSize","attrs","id","ref","staticClass","on","wheel","scroll","touchmove","directives","name","rawName","value","bars","vertical","expression","propBarVertical","style","data-axis","data-drag-source","touchstart","startDrag","mousedown","propBarInternalVertical","horizontal","propBarHorizontal","propBarInternalHorizontal","_t","staticRenderFns","src_components_v_bar","__webpack_require__","normalizeComponent","ssrContext","chapter","swiperSlide","vue_awesome_swiper","_this","_this2","index","open","link","url","then","res","close","body","content","catch","error","face","letterSpacing","length","j","fwidth","pageLength","articleStr","_this3","chapters","err","computed","extends_default","Object","vuex_esm","bId","swiper","components_chapter","click","back","_v","_s","wrapper","vBar","vBarInternal","_l","c","idx","selectd","$event","getContent","title","sb","bgc","show","showTai","typeFace","staticStyle","height","showPop","options","swiperOption","i","domProps","innerHTML","popTop","popModal","_m","position","modal","model","callback","$$v","popupVisible","backList","chapter_Component","chapter_normalizeComponent","__webpack_exports__","defineProperty","exports","raf","cancel","_typeof","Symbol","iterator","obj","constructor","IS_BROWSER","window","_window","global","attachEvent","document","stylesCreated","animationName","animationKeyframes","animationStyle","animationstartevent","resetTriggers","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","width","offsetWidth","offsetHeight","requestFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","scrollListener","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","forEach","call","animation","keyframeprefix","domPrefixes","split","startEvents","pfx","elm","createElement","toLowerCase","addResizeListener","getComputedStyle","css","head","getElementsByTagName","type","styleSheet","cssText","appendChild","createTextNode","createStyles","className","addEventListener","push","removeResizeListener","detachEvent","splice","indexOf","removeEventListener","removeChild"],"mappings":"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","file":"static/js/4.579ed28f965487cdd53e.js","sourcesContent":["<style scoped lang=\"sass\">\n    @import ../sass/bar\n\n    .bar\n        &--container\n            position: relative\n            height: 100%\n            width: 100%\n            overflow: hidden\n\n        &--wrapper\n            position: absolute\n            height: calc(100% + #{$pixel-proportion * 3})\n            width: calc(100% + #{$pixel-proportion * 3})\n            top: 0\n            overflow-y: scroll\n            overflow-x: scroll\n\n            > *\n                position: relative\n                padding-right: $pixel-proportion * 3 !important\n                padding-bottom: $pixel-proportion * 3 !important\n\n        &--vertical,\n        &--horizontal\n            position: absolute\n            background-color: $black4\n            z-index: 9\n            border-radius: $pixel-proportion * 2\n            overflow: hidden\n\n            &-internal\n                position: relative\n                background-color: $black2\n                opacity: 0.5\n                border-radius: $pixel-proportion * 2\n                transition-timing-function: ease-in-out\n                transition-duration: .2s\n                transition-property: opacity\n                +cursor-pointer\n\n                &:hover\n                    opacity: 1\n\n        &--vertical\n            right: 0\n            top: 0\n            visibility: hidden;\n            height: calc(100% - #{$pixel-proportion})\n            // height: 100%\n            width: $pixel-proportion\n            margin-right: $pixel-proportion / 2\n            margin-top: $pixel-proportion / 2\n            margin-bottom: $pixel-proportion / 2\n\n            &-internal\n                height: 50px !important;\n                width: 100%;\n                background-color: red;\n                visibility: visible\n\n        &--horizontal\n            left: 0\n            bottom: 0\n            width: calc(100% - #{$pixel-proportion})\n            // width: 100%\n            height: $pixel-proportion\n            margin-right: $pixel-proportion / 2\n            margin-left: $pixel-proportion / 2\n            margin-bottom: $pixel-proportion / 2\n\n            &-internal\n                height: 100%\n                width: 0px\n\n</style>\n\n<template lang=\"pug\">\n    #vbar(:class=\"propWrapperSize\")\n        .bar--container(ref=\"container\",\n            @wheel=\"scroll\",\n            @touchmove=\"scroll\")\n\n            .bar--vertical(ref=\"verticalBar\", v-show=\"bars.vertical.size\",\n                :style=\"barSizeVertical\",\n                :class=\"propBarVertical\",\n                @touchstart=\"startDrag\",\n                @mousedown=\"startDrag\",\n                data-axis=\"Y\",\n                data-drag-source=\"bar\")\n\n                .bar--vertical-internal(ref=\"verticalInternalBar\",\n                    :style=\"barInternalVertical\",\n                    :class=\"propBarInternalVertical\",\n                    @touchstart=\"startDrag\",\n                    @mousedown=\"startDrag\",\n                    data-axis=\"Y\",\n                    data-drag-source=\"internal\")\n\n            .bar--horizontal(v-show=\"bars.horizontal.size\",\n                :style=\"barSizeHorizontal\",\n                :class=\"propBarHorizontal\",\n                @touchstart=\"startDrag\",\n                @mousedown=\"startDrag\",\n                data-axis=\"X\",\n                data-drag-source=\"bar\")\n\n                .bar--horizontal-internal(ref=\"horizontalBar\",\n                    :style=\"barInternalHorizontal\",\n                    :class=\"propBarInternalHorizontal\",\n                    @touchstart=\"startDrag\",\n                    @mousedown=\"startDrag\",\n                    data-axis=\"X\",\n                    data-drag-source=\"internal\")\n\n            .bar--wrapper(ref=\"wrapperRef\",\n                :style=\"validationScrolls\")\n                slot\n</template>\n\n<script>\n// **************************************************************************************** //\n// V-BAR - LUIGUI DELYER | FRONT-END DEV @ WEBRADAR - NEW PRODUCTS, RESEARCH AND INNOVATION //\n// GITHUB = https://github.com/luiguild/v-bar.git                                           //\n// **************************************************************************************** //\n\nimport { addResizeListener, removeResizeListener } from 'detect-resize'\n\nexport default {\n    data: () => ({\n        dragging: {\n            enable: false,\n            axis: '',\n            offset: ''\n        },\n        bars: {\n            horizontal: {\n                elm: '',\n                parent: '',\n                size: 0\n            },\n            vertical: {\n                elm: '',\n                parent: '',\n                size: 0\n            }\n        },\n        wrapperObj: {\n            elm: '',\n            scrollHeight: '',\n            scrollWidth: '',\n            scrollLeft: '',\n            scrollTop: ''\n        },\n        container: {\n            elm: '',\n            scrollHeight: '',\n            scrollWidth: ''\n        }\n    }),\n    mounted () {\n        addResizeListener(this.$refs.container, this.resize)\n        addResizeListener(this.$refs.wrapperRef.children[0], this.resize)\n\n        document.addEventListener('mousemove', this.onDrag)\n        document.addEventListener('touchmove', this.onDrag)\n        document.addEventListener('mouseup', this.stopDrag)\n        document.addEventListener('touchend', this.stopDrag)\n\n        this.getSizes()\n    },\n    beforeDestroy () {\n        removeResizeListener(this.$refs.container, this.resize)\n        removeResizeListener(this.$refs.wrapperRef.children[0], this.resize)\n\n        document.removeEventListener('mousemove', this.onDrag)\n        document.removeEventListener('touchmove', this.onDrag)\n        document.removeEventListener('mouseup', this.stopDrag)\n        document.removeEventListener('touchend', this.stopDrag)\n    },\n    computed: {\n        propWrapperSize () {\n            return this.wrapper ? this.wrapper : ''\n        },\n        propBarVertical () {\n            return this.vBar ? this.vBar : ''\n        },\n        propBarInternalVertical () {\n            return this.vBarInternal ? this.vBarInternal : ''\n        },\n        propBarHorizontal () {\n            return this.hBar ? this.hBar : ''\n        },\n        propBarInternalHorizontal () {\n            return this.hBarInternal ? this.hBarInternal : ''\n        },\n        barSizeVertical () {\n            if (this.bars.horizontal.size && this.bars.vertical.size) {\n                return {\n                    height: 'calc(100% - 16px)'\n                }\n            }\n        },\n        barSizeHorizontal () {\n            if (this.bars.horizontal.size && this.bars.vertical.size) {\n                return {\n                    width: 'calc(100% - 16px)'\n                }\n            }\n        },\n        barInternalVertical () {\n            let barTop = this.getBarInternal('Y')\n\n            return {\n                height: this.bars.vertical.size + 'px',\n                top: barTop + 'px'\n            }\n        },\n        barInternalHorizontal () {\n            let barLeft = this.getBarInternal('X')\n\n            return {\n                width: this.bars.horizontal.size + 'px',\n                left: barLeft + 'px'\n            }\n        },\n        validationScrolls () {\n            if (!this.bars.horizontal.size) {\n                return 'overflowX: hidden'\n            }\n            if (!this.bars.vertical.size) {\n                return 'overflowY: hidden'\n            }\n        }\n    },\n    methods: {\n        scroll (e) {\n            // console.log(e)\n            // e.preventDefault()\n\n            // console.log(e.touches[0].clientX,\n            //     e.touches[0].pageX,\n            //     e.touches[0].screenX)\n\n            // console.log(e.layerY)\n\n            const Y = 0,\n                X = 0\n            // let Y = e.layerX\n            //     ? e.layerX\n            //     : e.changedTouches\n            //     ? e.changedTouches[0].clientX * -1\n            //     : '',\n            //     X = e.layerY\n            //     ? e.layerY\n            //     : e.changedTouches\n            //     ? e.changedTouches[0].clientY * -1\n            //     : ''\n\n            this.getSizes(X, Y)\n        },\n        resize () {\n            this.getSizes()\n        },\n        getBarInternal (axis) {\n            let internalSize,\n                positionWrapper,\n                sizeWrapper,\n                sizeBar,\n                sizeContainer,\n                regulatorSize\n\n            if (this.bars.horizontal.size && this.bars.vertical.size) {\n                regulatorSize = 40\n            } else {\n                regulatorSize = 32\n            }\n\n            if (axis === 'X') {\n                positionWrapper = this.wrapperObj.scrollLeft\n                sizeWrapper = this.wrapperObj.scrollWidth\n                sizeBar = this.bars.horizontal.size + regulatorSize\n                sizeContainer = this.container.scrollWidth\n            } else if (axis === 'Y') {\n                positionWrapper = this.wrapperObj.scrollTop\n                sizeWrapper = this.wrapperObj.scrollHeight\n                sizeBar = this.bars.vertical.size + regulatorSize\n                sizeContainer = this.container.scrollHeight\n            }\n            internalSize = (positionWrapper / (sizeWrapper - (sizeContainer))) * (sizeContainer - sizeBar)\n\n            return internalSize\n        },\n        getCoordinates (e, axis) {\n            let coordinate,\n                sizeWrapper,\n                sizeBar,\n                sizeContainer,\n                offsetContainer,\n                clientDirection\n\n            if (axis === 'X') {\n                sizeWrapper = this.wrapperObj.scrollWidth\n                sizeBar = this.bars.horizontal.size\n                sizeContainer = this.container.scrollWidth\n                offsetContainer = this.container.elm.offsetLeft\n                clientDirection = e.clientX - this.dragging.offset\n            } else if (axis === 'Y') {\n                sizeWrapper = this.wrapperObj.scrollHeight\n                sizeBar = this.bars.vertical.size\n                sizeContainer = this.container.scrollHeight\n                offsetContainer = this.container.elm.offsetTop - (this.bars.vertical.size * 1.4)\n                clientDirection = e.clientY - this.dragging.offset\n            }\n            coordinate = ((sizeWrapper - sizeContainer) * (clientDirection - offsetContainer)) / (sizeContainer - sizeBar)\n\n            return coordinate\n        },\n        startDrag (e) {\n            e.preventDefault()\n            e.stopPropagation()\n\n            e = e.changedTouches ? e.changedTouches[0] : e\n\n            const axis = e.target.getAttribute('data-axis'),\n                dataDrag = e.target.getAttribute('data-drag-source')\n\n            let offset,\n                elementOffset\n\n            if (axis === 'Y') {\n                if (dataDrag === 'bar') {\n                    elementOffset = e.explicitOriginalTarget.offsetTop + (this.bars.vertical.size * 1.4)\n                } else if (dataDrag === 'internal') {\n                    elementOffset = e.clientY - this.bars.vertical.elm.offsetTop\n                }\n            } else if (axis === 'Y') {\n                if (dataDrag === 'bar') {\n                    elementOffset = e.explicitOriginalTarget.offsetTop + (this.bars.horizontal.size * 1.4)\n                } else if (dataDrag === 'internal') {\n                    elementOffset = e.clientX - this.bars.horizontal.elm.offsetTop\n                }\n            }\n\n            offset = elementOffset\n\n            this.dragging = {\n                enable: true,\n                axis: axis,\n                offset: offset\n            }\n        },\n        onDrag (e) {\n            if (this.dragging.enable) {\n                e.preventDefault()\n                e.stopPropagation()\n\n                e = e.changedTouches ? e.changedTouches[0] : e\n\n                const wrapper = this.$refs.wrapperRef\n\n                if (this.dragging.axis === 'X') {\n                    wrapper.scrollLeft = this.getCoordinates(e, 'X')\n                } else if (this.dragging.axis === 'Y') {\n                    wrapper.scrollTop = this.getCoordinates(e, 'Y')\n                }\n\n                this.getSizes()\n            }\n        },\n        stopDrag (e) {\n            if (this.dragging.enable) {\n                this.dragging = {\n                    enable: false,\n                    axis: ''\n                }\n            }\n        },\n        getSizes (X, Y) {\n            const wrapperRef = this.$refs.wrapperRef,\n                containerRef = this.$refs.container,\n                verticalBarRef = this.$refs.verticalBar,\n                verticalInternalBarRef = this.$refs.verticalInternalBar,\n                horizontalBarRef = this.$refs.horizontalBar,\n                horizontalInternalBarRef = this.$refs.horizontalInternalBar\n\n            this.wrapperObj = {\n                elm: wrapperRef,\n                scrollHeight: wrapperRef.scrollHeight,\n                scrollWidth: wrapperRef.scrollWidth,\n                scrollLeft: wrapperRef.scrollLeft,\n                scrollTop: wrapperRef.scrollTop\n            }\n\n            this.container = {\n                elm: containerRef,\n                scrollHeight: containerRef.scrollHeight,\n                scrollWidth: containerRef.scrollWidth\n            }\n\n            this.bars.horizontal.elm = horizontalInternalBarRef\n            this.bars.horizontal.parent = horizontalBarRef\n\n            this.bars.horizontal.size = this.wrapperObj.scrollWidth - this.container.scrollWidth > 24 &&\n                this.wrapperObj.scrollWidth - this.container.scrollWidth !== 0\n                ? (this.container.scrollWidth / this.wrapperObj.scrollWidth) * this.container.scrollWidth\n                : 0\n\n            this.bars.vertical.elm = verticalInternalBarRef\n            this.bars.vertical.parent = verticalBarRef\n\n            this.bars.vertical.size = this.wrapperObj.scrollHeight - this.container.scrollHeight > 24 &&\n                this.wrapperObj.scrollHeight - this.container.scrollHeight !== 0\n                ? (this.container.scrollHeight / this.wrapperObj.scrollHeight) * this.container.scrollHeight\n                : 0\n        }\n    },\n    props: ['wrapper', 'vBar', 'vBarInternal', 'hBar', 'hBarInternal']\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/v-bar/src/components/v-bar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.propWrapperSize,attrs:{\"id\":\"vbar\"}},[_c('div',{ref:\"container\",staticClass:\"bar--container\",on:{\"wheel\":_vm.scroll,\"touchmove\":_vm.scroll}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bars.vertical.size),expression:\"bars.vertical.size\"}],ref:\"verticalBar\",staticClass:\"bar--vertical\",class:_vm.propBarVertical,style:(_vm.barSizeVertical),attrs:{\"data-axis\":\"Y\",\"data-drag-source\":\"bar\"},on:{\"touchstart\":_vm.startDrag,\"mousedown\":_vm.startDrag}},[_c('div',{ref:\"verticalInternalBar\",staticClass:\"bar--vertical-internal\",class:_vm.propBarInternalVertical,style:(_vm.barInternalVertical),attrs:{\"data-axis\":\"Y\",\"data-drag-source\":\"internal\"},on:{\"touchstart\":_vm.startDrag,\"mousedown\":_vm.startDrag}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bars.horizontal.size),expression:\"bars.horizontal.size\"}],staticClass:\"bar--horizontal\",class:_vm.propBarHorizontal,style:(_vm.barSizeHorizontal),attrs:{\"data-axis\":\"X\",\"data-drag-source\":\"bar\"},on:{\"touchstart\":_vm.startDrag,\"mousedown\":_vm.startDrag}},[_c('div',{ref:\"horizontalBar\",staticClass:\"bar--horizontal-internal\",class:_vm.propBarInternalHorizontal,style:(_vm.barInternalHorizontal),attrs:{\"data-axis\":\"X\",\"data-drag-source\":\"internal\"},on:{\"touchstart\":_vm.startDrag,\"mousedown\":_vm.startDrag}})]),_c('div',{ref:\"wrapperRef\",staticClass:\"bar--wrapper\",style:(_vm.validationScrolls)},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ba2efa2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/v-bar/src/components/v-bar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba2efa2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../vue-loader/lib/selector?type=styles&index=0!./v-bar.vue\")\n}\nvar normalizeComponent = require(\"!../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./v-bar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./v-bar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ba2efa2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../vue-loader/lib/selector?type=template&index=0!./v-bar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7ba2efa2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/v-bar/src/components/v-bar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"chapter\">\r\n    <div class=\"setUp\" v-show=\"sb\">\r\n      <div class=\"setLeft\">\r\n        <span class=\"back\" @click=\"back\"><i class=\"mintui mintui-back\"></i></span>\r\n        <div class=\"back\">\r\n         目录\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"sb\">\r\n      <p  class=\"cpd\">共<span>{{chapters.length}}</span>章</p>\r\n      <div  class=\"chap\">\r\n        <v-bar wrapper=\"wrapper\" vBar=\"false\" vBarInternal=\"false\">\r\n          <div>\r\n            <p v-for=\"(c,idx) in chapters\" @click=\"getContent(idx)\" :class=\"{selectd:idx === index}\">\r\n            {{c.title}}\r\n            </p>\r\n          </div>\r\n        </v-bar>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"!sb\" class=\"bc\" :style=\"typeFace[face]\" :class=\"{bgc:!show.showTai}\">\r\n      <div id=\"banner\" :style=\"screen\">\r\n        <div class=\"swiper-container\" style=\"height:inherit\" @click=\"showPop\">\r\n          <swiper :options=\"swiperOption\" ref=\"mySwiper\" >\r\n            <swiper-slide class=\"swiper-slide\" v-for=\"i in bArr\" v-html=\"i\">{{i}}</swiper-slide>\r\n          </swiper>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div ref=\"popupTop\" class=\"popupTop setUp\" :class=\"{popTop:popModal}\">\r\n      <div class=\"setLeft\">\r\n        <span class=\"back\" @click=\"back\"><i class=\"mintui mintui-back\"></i></span>\r\n      </div>\r\n      <div class=\"setRight\">\r\n        <span>换源</span>\r\n        <span>刷新</span>\r\n        <span>报错</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal\" v-show=\"popModal\" @click=\"close\">\r\n    </div>\r\n    <mt-popup\r\n      v-model=\"popupVisible\"\r\n      position=\"bottom\" :modal=\"false\" class=\"popup\">\r\n      <div class=\"down\">\r\n        <div class=\"item\" @click=\"backList\">\r\n          <i class=\"mintui mintui-mulu\"></i>\r\n          <div>目录</div>\r\n        </div>\r\n        <div class=\"item\" @click=\"show.showTai = !show.showTai\">\r\n          <div v-show=\"show.showTai\">\r\n            <i class=\"mintui mintui-taiyang\"></i>\r\n            <div>日间模式</div>\r\n          </div>\r\n          <div v-show=\"!show.showTai\">\r\n            <i class=\"mintui mintui-yueliang\"></i>\r\n            <div>夜间模式</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"item\">\r\n          <i class=\"mintui mintui-ziti\"></i>\r\n          <div>设置</div>\r\n        </div>\r\n      </div>\r\n    </mt-popup>\r\n  </div>\r\n</template>\r\n<script>\r\n  import VBar from 'v-bar';\r\n  import 'swiper/dist/css/swiper.css'\r\n  import { swiper, swiperSlide } from 'vue-awesome-swiper';\r\n  import {Indicator} from 'mint-ui';\r\n  import {mapState} from 'vuex';\r\n  import * as config from '../config/config.js';\r\n  export default {\r\n    name:'chapter',\r\n    components: { VBar ,swiper,swiperSlide},\r\n    data(){\r\n      return {\r\n        chapters:[],\r\n        bArr:[],\r\n        show:{\r\n          showTai:true\r\n        },\r\n        popupVisible:false,\r\n        popModal:false,\r\n        ps:'',\r\n        sb:false,\r\n        content:'',\r\n        index:'',\r\n        screen:{\r\n          'height':'0px',\r\n          'width':''\r\n        },\r\n        face:'normal',\r\n        typeFace:{\r\n          small: {\r\n              fontSize: '12px',\r\n              lineHeight: '20px',\r\n              letterSpacing: '0px'\r\n          },\r\n          normal: {\r\n              fontSize: '16px',\r\n              lineHeight: '24px',\r\n              letterSpacing: '1px'\r\n          },\r\n          big: {\r\n              fontSize: '20px',\r\n              lineHeight: '28px',\r\n              letterSpacing: '0px'\r\n          }\r\n        },\r\n        swiperOption: {\r\n          direction : 'horizontal',\r\n          effect:'coverflow',\r\n          on: {\r\n            touchEnd: ()=>{\r\n              if(this.swiper.activeIndex === 0 && this.swiper.swipeDirection === 'prev'){\r\n                this.getContent(this.index-1);\r\n              }\r\n              if(this.swiper.activeIndex === (this.swiper.slidesGrid.length-1) && this.swiper.swipeDirection === 'next'){\r\n                this.getContent(this.index+1);\r\n              }\r\n            },\r\n          },\r\n        },\r\n      }\r\n    },\r\n    methods:{\r\n      backList(){\r\n        this.popupVisible = false;\r\n        this.popModal = false;\r\n        this.sb = true;\r\n      },\r\n      close(){\r\n        this.popupVisible = false;\r\n        this.popModal = false;\r\n      },\r\n      showPop(){\r\n        this.popupVisible = true;\r\n        this.popModal = true;\r\n      },\r\n      back(){\r\n        this.$router.go(-1);\r\n      },\r\n      getContent(index){\r\n        if(index<0){\r\n          this.index = 0;\r\n          return;\r\n        }\r\n        this.index = index;\r\n        Indicator.open();\r\n        var url = config.API_CHAPTER_URL+'/chapter/'+encodeURIComponent(this.chapters[index].link);\r\n        this.axios.get(url)\r\n          .then((res)=>{\r\n            Indicator.close();\r\n            this.sb = false;\r\n            this.content = res.data.chapter.body;\r\n            this.$nextTick(function () {\r\n              this.ps = this.setTextFmt(this.content)\r\n              this.bArr = this.ps.split('\\n');\r\n              this.swiper.slideTo(0, 10, false)\r\n            })\r\n          })\r\n          .catch((error)=>{\r\n            Indicator.close();\r\n          })\r\n      },\r\n      setTextFmt(s){\r\n        var pageH = window.innerHeight-16;\r\n        var pageW = window.innerWidth-30;\r\n        var style = this.typeFace[this.face];\r\n        var letterSpacing = style.letterSpacing ? +style.letterSpacing.replace(/px$/, '') : 0;\r\n        var fwidth = +style.fontSize.replace(/px$/,'')+letterSpacing;\r\n        var maxLine = Math.floor(pageH / +style.lineHeight.replace(/px$/,''));\r\n        var pageLength = 0; // 页面长度计数器，单位：行\r\n        var lineWidth = 0; // 单行长度计数器，单位：像素\r\n        var articleStr = ''; // 文章内容存储\r\n        var pageStr = ''; // 页面内容存储\r\n        var lineStr = ''; // 单行内容存储\r\n        var lineCharCounter = 0; // 每行字数计数器\r\n        var spaceWidth = 0; // 剩余空白区域宽度\r\n        var curChar = ''; // 当前检索的字符\r\n        var wordNum = 0; // 文字编号\r\n        var arr = s.split('\\n');\r\n        for(let i = 0,l=arr.length;i<l;i++){\r\n          var j = 0;\r\n          var l1 = arr[i].length;\r\n          while(j< l1){\r\n            let cur = arr[i][j];\r\n            if(pageLength < maxLine){// 每页未满\r\n              lineWidth +=fwidth;\r\n              if(lineWidth < pageW){\r\n                lineStr += '<span>'+cur+'</span>';\r\n                lineCharCounter += cur.length;\r\n                j++;\r\n              }else {\r\n                pageW - lineWidth + fwidth;\r\n                lineStr += '<span>'+cur+'</span>';\r\n                spaceWidth = spaceWidth - fwidth;\r\n                lineCharCounter += curChar.length;\r\n                j++;\r\n                if (Math.abs(spaceWidth) > 1) {\r\n                    pageStr += '<p>' + lineStr + '</p>';\r\n                  }\r\n                  pageLength++;\r\n                  // 初始化\r\n                  lineStr = '';\r\n                  lineWidth = 0;\r\n                  lineCharCounter = 0;\r\n              }\r\n            }else { // 每页已满\r\n              pageStr ='<div>'+pageStr+'</div>'+'\\n';\r\n              articleStr += pageStr;\r\n              // 初始化\r\n              pageStr = '';\r\n              pageLength = 0;\r\n            }\r\n          }\r\n          // 每段结束\r\n          if (lineStr.length > 0) { // 内容还没有被存储\r\n            pageStr += '<p>' + lineStr + '</p>';\r\n            pageLength++;\r\n            // 初始化\r\n            lineStr = '';\r\n            lineWidth = 0;\r\n            lineCharCounter = 0;\r\n          }\r\n        }\r\n        // 全部文章结束\r\n        pageStr = '<div>'+pageStr+'</div>';\r\n        articleStr += pageStr;\r\n        // 初始化\r\n        pageStr = '';\r\n        pageLength = 0;\r\n        return articleStr;\r\n      }\r\n    },\r\n    created(){\r\n      this.screen.height = window.innerHeight-16 + 'px';\r\n      this.screen.width = window.innerWidth - 28 + 'px';\r\n      Indicator.open();\r\n      var url = config.API_BASE_URL+'/mix-atoc/'+this.$route.params.id+'?view=chapters';\r\n        this.axios.get(url)\r\n        .then((res)=>{\r\n          console.log(res)\r\n          Indicator.close();\r\n          if(res.data.ok){\r\n            this.sb = true;\r\n            this.chapters = res.data.mixToc.chapters;\r\n          }\r\n        })\r\n        .catch((err)=>{\r\n          console.log(err)\r\n        });\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n          bId: state => state.app.bId\r\n      }),\r\n      swiper() {\r\n        return this.$refs.mySwiper.swiper\r\n      }\r\n    },\r\n\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n  .chapter {\r\n    overflow:hidden;\r\n    background-color:#fff;\r\n    .cpd {\r\n      text-align:left;\r\n      font-size: 14px;\r\n      line-height:20px;\r\n      padding: 10px 16px;\r\n      border-bottom: 1px solid #ddd;\r\n      margin-top:40px;\r\n    }\r\n  }\r\n  .chap {\r\n    margin-top: 40px;\r\n    overflow: hidden;\r\n    position: absolute;\r\n      top:40px;\r\n      bottom: 0px;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      display: flex;\r\n    p {\r\n      text-align:left;\r\n      line-height: 20px;\r\n      padding: 10px 16px;\r\n      border-bottom: 1px solid #ddd;\r\n      font-size:12px;\r\n    }\r\n    .wrapper {\r\n        width:100%;\r\n        overflow: hidden;\r\n    }\r\n  }\r\n  .bc {\r\n    background-color: #FFEE99;\r\n    font-family: SimSun;\r\n    text-align:left;\r\n    #banner {\r\n      padding: 0.5rem 0;\r\n      margin: 0px auto;\r\n    }\r\n  }\r\n\r\n  .popup {\r\n    width:100%;\r\n    font-family: SimSun;\r\n    background-color:#000;\r\n    color:#fff;\r\n  }\r\n  .popupTop {\r\n    position: fixed;\r\n    width: 100%;\r\n    top: -50px;\r\n    background: #000;\r\n    color: #fff;\r\n    height: 0px;\r\n    transition: 0.2s ease-out;\r\n  }\r\n\r\n  .popTop {\r\n    top:0;\r\n    height:2.5rem;\r\n  }\r\n\r\n  .down {\r\n    display:flex;\r\n    justify-content: space-around;\r\n    .item {\r\n      padding: 0.5rem 0;\r\n      width:5rem;\r\n    }\r\n  }\r\n  .modal {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0.5;\r\n    background: #000;\r\n    z-index:99;\r\n  }\r\n  .bgc {\r\n    background-color:#333;\r\n    color:#f8f8f8;\r\n  }\r\n  .selectd {\r\n    color:red;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/chapter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chapter\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sb),expression:\"sb\"}],staticClass:\"setUp\"},[_c('div',{staticClass:\"setLeft\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"mintui mintui-back\"})]),_vm._v(\" \"),_c('div',{staticClass:\"back\"},[_vm._v(\"\\n       目录\\n      \")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sb),expression:\"sb\"}]},[_c('p',{staticClass:\"cpd\"},[_vm._v(\"共\"),_c('span',[_vm._v(_vm._s(_vm.chapters.length))]),_vm._v(\"章\")]),_vm._v(\" \"),_c('div',{staticClass:\"chap\"},[_c('v-bar',{attrs:{\"wrapper\":\"wrapper\",\"vBar\":\"false\",\"vBarInternal\":\"false\"}},[_c('div',_vm._l((_vm.chapters),function(c,idx){return _c('p',{class:{selectd:idx === _vm.index},on:{\"click\":function($event){_vm.getContent(idx)}}},[_vm._v(\"\\n          \"+_vm._s(c.title)+\"\\n          \")])}))])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sb),expression:\"!sb\"}],staticClass:\"bc\",class:{bgc:!_vm.show.showTai},style:(_vm.typeFace[_vm.face])},[_c('div',{style:(_vm.screen),attrs:{\"id\":\"banner\"}},[_c('div',{staticClass:\"swiper-container\",staticStyle:{\"height\":\"inherit\"},on:{\"click\":_vm.showPop}},[_c('swiper',{ref:\"mySwiper\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.bArr),function(i){return _c('swiper-slide',{staticClass:\"swiper-slide\",domProps:{\"innerHTML\":_vm._s(i)}},[_vm._v(_vm._s(i))])}))],1)])]),_vm._v(\" \"),_c('div',{ref:\"popupTop\",staticClass:\"popupTop setUp\",class:{popTop:_vm.popModal}},[_c('div',{staticClass:\"setLeft\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"mintui mintui-back\"})])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popModal),expression:\"popModal\"}],staticClass:\"modal\",on:{\"click\":_vm.close}}),_vm._v(\" \"),_c('mt-popup',{staticClass:\"popup\",attrs:{\"position\":\"bottom\",\"modal\":false},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('div',{staticClass:\"down\"},[_c('div',{staticClass:\"item\",on:{\"click\":_vm.backList}},[_c('i',{staticClass:\"mintui mintui-mulu\"}),_vm._v(\" \"),_c('div',[_vm._v(\"目录\")])]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":function($event){_vm.show.showTai = !_vm.show.showTai}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.showTai),expression:\"show.showTai\"}]},[_c('i',{staticClass:\"mintui mintui-taiyang\"}),_vm._v(\" \"),_c('div',[_vm._v(\"日间模式\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show.showTai),expression:\"!show.showTai\"}]},[_c('i',{staticClass:\"mintui mintui-yueliang\"}),_vm._v(\" \"),_c('div',[_vm._v(\"夜间模式\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('i',{staticClass:\"mintui mintui-ziti\"}),_vm._v(\" \"),_c('div',[_vm._v(\"设置\")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setRight\"},[_c('span',[_vm._v(\"换源\")]),_vm._v(\" \"),_c('span',[_vm._v(\"刷新\")]),_vm._v(\" \"),_c('span',[_vm._v(\"报错\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47f8db66\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/chapter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47f8db66\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chapter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chapter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./chapter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47f8db66\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./chapter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47f8db66\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chapter.vue\n// module id = null\n// module chunks = ","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\r\n* Detect Element Resize.\r\n* Forked in order to guard against unsafe 'window' and 'document' references by react-virtualized project.\r\n* ES6ified and npmified by @noderaider.\r\n*\r\n* https://github.com/sdecima/javascript-detect-element-resize\r\n* Sebastian Decima\r\n*\r\n* version: 0.5.3\r\n**/\n\n// Check `document` and `window` in case of server-side rendering\nvar IS_BROWSER = function IS_BROWSER() {\n  return (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object';\n};\nvar _window = IS_BROWSER() ? window : global;\n\nvar attachEvent = IS_BROWSER() ? document.attachEvent : false;\nvar stylesCreated = false;\nvar animationName = null;\nvar animationKeyframes = null;\nvar animationStyle = null;\nvar animationstartevent = null;\n\nvar resetTriggers = function resetTriggers(element) {\n  var triggers = element.__resizeTriggers__;\n  var expand = triggers.firstElementChild;\n  var contract = triggers.lastElementChild;\n  var expandChild = expand.firstElementChild;\n  contract.scrollLeft = contract.scrollWidth;\n  contract.scrollTop = contract.scrollHeight;\n  expandChild.style.width = expand.offsetWidth + 1 + 'px';\n  expandChild.style.height = expand.offsetHeight + 1 + 'px';\n  expand.scrollLeft = expand.scrollWidth;\n  expand.scrollTop = expand.scrollHeight;\n};\n\nvar requestFrame = function () {\n  var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n    return setTimeout(fn, 20);\n  };\n  return function (fn) {\n    return raf(fn);\n  };\n}();\n\nvar cancelFrame = function () {\n  var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n  return function (id) {\n    return cancel(id);\n  };\n}();\n\nvar checkTriggers = function checkTriggers(element) {\n  return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n};\nvar scrollListener = function scrollListener(e) {\n  var element = this;\n  resetTriggers(this);\n  if (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\n  this.__resizeRAF__ = requestFrame(function () {\n    if (checkTriggers(element)) {\n      element.__resizeLast__.width = element.offsetWidth;\n      element.__resizeLast__.height = element.offsetHeight;\n      element.__resizeListeners__.forEach(function (fn) {\n        fn.call(element, e);\n      });\n    }\n  });\n};\n\nif (IS_BROWSER() && !attachEvent) {\n\n  /* Detect CSS Animations support to detect element display/re-attach */\n  var animation = false;\n  var animationstring = 'animation';\n  var keyframeprefix = '';\n  animationstartevent = 'animationstart';\n  var domPrefixes = 'Webkit Moz O ms'.split(' ');\n  var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n  var pfx = '';\n  var elm = document.createElement('fakeelement');\n  if (typeof elm.style.animationName !== 'undefined') animation = true;\n\n  if (animation === false) {\n    for (var i = 0; i < domPrefixes.length; i++) {\n      if (typeof elm.style[domPrefixes[i] + 'AnimationName'] !== 'undefined') {\n        pfx = domPrefixes[i];\n        animationstring = pfx + 'Animation';\n        keyframeprefix = '-' + pfx.toLowerCase() + '-';\n        animationstartevent = startEvents[i];\n        animation = true;\n        break;\n      }\n    }\n  }\n\n  animationName = 'resizeanim';\n  animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n  animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n}\n\nvar createStyles = function createStyles() {\n  if (!stylesCreated) {\n    //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n    var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }';\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n\n    style.type = 'text/css';\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(style);\n    stylesCreated = true;\n  }\n};\n\nvar addResizeListener = function addResizeListener(element, fn) {\n  if (attachEvent) element.attachEvent('onresize', fn);else if (IS_BROWSER()) {\n    if (!element.__resizeTriggers__) {\n      if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n      createStyles();\n      element.__resizeLast__ = {};\n      element.__resizeListeners__ = [];\n      (element.__resizeTriggers__ = document.createElement('div')).className = 'resize-triggers';\n      element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n      element.appendChild(element.__resizeTriggers__);\n      resetTriggers(element);\n      element.addEventListener('scroll', scrollListener, true);\n\n      /* Listen for a css animation to detect element display/re-attach */\n      animationstartevent && element.__resizeTriggers__.addEventListener(animationstartevent, function (e) {\n        if (e.animationName == animationName) resetTriggers(element);\n      });\n    }\n    element.__resizeListeners__.push(fn);\n  }\n};\n\nvar removeResizeListener = function removeResizeListener(element, fn) {\n  if (attachEvent) element.detachEvent('onresize', fn);else if (IS_BROWSER()) {\n    element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n    if (!element.__resizeListeners__.length) {\n      element.removeEventListener('scroll', scrollListener, true);\n      element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n    }\n  }\n};\n\nexports.addResizeListener = addResizeListener;\nexports.removeResizeListener = removeResizeListener;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/detect-resize/lib/index.js\n// module id = foBo\n// module chunks = 4"],"sourceRoot":""}